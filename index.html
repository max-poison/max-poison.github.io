<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>–ú–∞–∫—Å –ü–æ–π–∑–æ–Ω ‚Äî –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç</title>

  <meta name="description" content="–ú–∞–∫—Å –ü–æ–π–∑–æ–Ω ‚Äî –º—É–∑—ã–∫–∞, –∫–ª–∏–ø—ã, –ª–∞–π–≤—ã, —Ñ–æ—Ç–æ, –∫–æ–Ω—Ç–∞–∫—Ç—ã. –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–π –∞—Ä—Ç–∏—Å—Ç." />
  <link rel="canonical" href="https://max-poison.github.io/" />

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="–ú–∞–∫—Å –ü–æ–π–∑–æ–Ω ‚Äî –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç" />
  <meta property="og:description" content="–ú—É–∑—ã–∫–∞, –∫–ª–∏–ø—ã, –ª–∞–π–≤—ã, —Ñ–æ—Ç–æ –∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã ‚Äî –≤—Å—ë –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ." />
  <meta property="og:url" content="https://max-poison.github.io/" />
  <meta property="og:image" content="https://raw.githubusercontent.com/max-poison/max-poison.github.io/refs/heads/main/IMG_6391.jpeg" />

  <style>
    :root{
      --bg:#0b0b0f;
      --panel: rgba(255,255,255,.06);
      --panel2: rgba(255,255,255,.08);
      --stroke: rgba(255,255,255,.14);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.66);
      --muted2: rgba(255,255,255,.48);
      --shadow: 0 18px 60px rgba(0,0,0,.45);
      --radius: 22px;
      --radius2: 16px;
      --max: 1100px;
      --safeTop: env(safe-area-inset-top);
      --safeBottom: env(safe-area-inset-bottom);
    }

    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0;
      background: radial-gradient(1200px 700px at 20% 10%, rgba(255,80,80,.18), transparent 55%),
                  radial-gradient(1000px 700px at 80% 30%, rgba(120,80,255,.16), transparent 55%),
                  var(--bg);
      color:var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Helvetica Neue", sans-serif;
      line-height:1.45;
      padding-bottom: calc(78px + var(--safeBottom)); /* –º–µ—Å—Ç–æ –ø–æ–¥ –Ω–∏–∂–Ω—é—é –Ω–∞–≤–∏–≥–∞—Ü–∏—é */
    }

    a{color:inherit; text-decoration:none}
    .wrap{max-width:var(--max); margin:0 auto; padding: 18px 14px 28px}

    /* –í–µ—Ä—Ö–Ω—è—è —à–∞–ø–∫–∞ */
    .topbar{
      position:sticky; top:0; z-index:50;
      padding-top: var(--safeTop);
      backdrop-filter: blur(14px);
      background: linear-gradient(to bottom, rgba(11,11,15,.82), rgba(11,11,15,.45));
      border-bottom: 1px solid rgba(255,255,255,.06);
    }
    .topbar .inner{
      max-width:var(--max); margin:0 auto;
      padding: 12px 14px;
      display:flex; align-items:center; justify-content:space-between; gap:12px;
    }

    .brand{
      display:flex; align-items:center; gap:12px; min-width:0;
    }
    .brand .avatar{
      width:40px; height:40px; border-radius:14px;
      background: url("https://raw.githubusercontent.com/max-poison/max-poison.github.io/refs/heads/main/IMG_4467.jpeg") center/cover no-repeat;
      border: 1px solid rgba(255,255,255,.14);
      box-shadow: 0 10px 26px rgba(0,0,0,.35);
      flex:0 0 auto;
    }
    .brand .t{
      min-width:0;
      display:flex; flex-direction:column;
    }
    .brand .t b{
      font-size:14px;
      letter-spacing:.08em;
      text-transform:uppercase;
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }
    .brand .t span{
      font-size:12px; color:var(--muted);
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
    }

    /* –±—É—Ä–≥–µ—Ä */
    .burger{
      width:44px; height:44px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      display:grid; place-items:center;
      box-shadow: var(--shadow);
      cursor:pointer;
      -webkit-tap-highlight-color: transparent;
    }
    .burger:active{transform: translateY(1px)}
    .burger i{
      width:18px; height:12px; position:relative; display:block;
    }
    .burger i::before, .burger i::after, .burger i span{
      content:"";
      position:absolute; left:0; right:0;
      height:2px; border-radius:2px;
      background: rgba(255,255,255,.86);
    }
    .burger i::before{top:0}
    .burger i span{top:5px}
    .burger i::after{bottom:0}

    /* Drawer */
    .overlay{
      position:fixed; inset:0; z-index:80;
      background: rgba(0,0,0,.55);
      opacity:0; pointer-events:none;
      transition: opacity .2s ease;
    }
    .overlay.on{opacity:1; pointer-events:auto}

    .drawer{
      position:fixed; top:0; right:0; bottom:0;
      width:min(420px, 88vw);
      z-index:90;
      background: rgba(20,20,28,.92);
      backdrop-filter: blur(18px);
      border-left: 1px solid rgba(255,255,255,.10);
      transform: translateX(110%);
      transition: transform .22s ease;
      padding-top: var(--safeTop);
      box-shadow: -20px 0 60px rgba(0,0,0,.55);
      display:flex; flex-direction:column;
    }
    .drawer.on{transform: translateX(0)}
    .drawerHead{
      display:flex; align-items:center; justify-content:space-between;
      padding: 12px 14px 10px;
      border-bottom: 1px solid rgba(255,255,255,.08);
    }
    .drawerHead b{font-size:14px; letter-spacing:.06em; text-transform:uppercase}
    .close{
      width:42px; height:42px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      display:grid; place-items:center;
      cursor:pointer;
      -webkit-tap-highlight-color: transparent;
    }
    .close:active{transform: translateY(1px)}
    .close svg{opacity:.9}

    .drawerBody{
      padding: 12px 14px 16px;
      overflow:auto;
    }

    .search{
      display:flex; gap:10px; align-items:center;
      padding: 10px 12px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
    }
    .search input{
      width:100%;
      font-size:15px;
      background:transparent;
      border:0;
      outline:none;
      color:var(--text);
    }
    .search input::placeholder{color:var(--muted2)}
    .nav{
      margin-top:12px;
      display:grid; gap:10px;
    }
    .nav a{
      display:flex; align-items:center; justify-content:space-between;
      padding: 12px 12px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
    }
    .nav a small{color:var(--muted)}
    .nav a:active{transform: translateY(1px)}

    .mini{
      margin-top:12px;
      padding:12px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      color:var(--muted);
      font-size:13px;
    }

    /* Hero */
    .hero{
      margin-top: 14px;
      border-radius: var(--radius);
      border: 1px solid rgba(255,255,255,.10);
      background:
        linear-gradient(120deg, rgba(255,255,255,.06), rgba(255,255,255,.02)),
        url("https://raw.githubusercontent.com/max-poison/max-poison.github.io/refs/heads/main/IMG_6391.jpeg") center/cover no-repeat;
      overflow:hidden;
      box-shadow: var(--shadow);
      position:relative;
    }
    .hero::after{
      content:"";
      position:absolute; inset:0;
      background: linear-gradient(to top, rgba(0,0,0,.78), rgba(0,0,0,.20));
    }
    .hero .content{
      position:relative; z-index:2;
      padding: 20px 16px;
      min-height: 240px;
      display:flex; flex-direction:column; justify-content:flex-end; gap:12px;
    }
    .hero h1{
      margin:0;
      font-size: 28px;
      letter-spacing:.02em;
    }
    .hero p{margin:0; color: rgba(255,255,255,.82); max-width: 52ch}

    .ctaRow{
      display:flex; gap:10px; flex-wrap:wrap;
      margin-top: 6px;
    }
    .btn{
      display:inline-flex; align-items:center; gap:10px;
      padding: 10px 14px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.08);
      color: var(--text);
      cursor:pointer;
      -webkit-tap-highlight-color: transparent;
    }
    .btn:active{transform: translateY(1px)}
    .btn.primary{
      background: rgba(255,255,255,.14);
      border-color: rgba(255,255,255,.18);
    }

    /* Sections */
    .sections{margin-top: 14px; display:grid; gap:12px}
    details.sec{
      border-radius: var(--radius);
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      overflow:hidden;
    }
    details.sec[open]{background: rgba(255,255,255,.05)}
    summary{
      list-style:none;
      cursor:pointer;
      padding: 14px 14px;
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      -webkit-tap-highlight-color: transparent;
    }
    summary::-webkit-details-marker{display:none}
    summary b{font-size:15px; letter-spacing:.06em; text-transform:uppercase}
    summary span{color:var(--muted); font-size:13px}
    .caret{
      width:10px; height:10px; border-right:2px solid rgba(255,255,255,.7); border-bottom:2px solid rgba(255,255,255,.7);
      transform: rotate(45deg);
      transition: transform .18s ease;
      margin-right: 4px;
      opacity:.9;
    }
    details[open] summary .caret{transform: rotate(225deg)}
    .secBody{
      padding: 2px 14px 14px;
      color: rgba(255,255,255,.86);
    }

    /* Horizontal carousel */
    .hscroll{
      display:flex; gap:12px;
      overflow:auto;
      padding: 10px 2px 6px;
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
    }
    .hscroll::-webkit-scrollbar{height:8px}
    .hscroll::-webkit-scrollbar-thumb{background: rgba(255,255,255,.10); border-radius:99px}

    .card{
      scroll-snap-align: start;
      flex: 0 0 min(280px, 78vw);
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      overflow:hidden;
    }
    .thumb{
      height: 156px;
      background: #111;
      position:relative;
    }
    .thumb img{
      width:100%; height:100%;
      object-fit:cover;
      display:block;
      filter: saturate(1.05) contrast(1.03);
      transform: scale(1.01);
    }
    .playBadge{
      position:absolute; left:12px; bottom:12px;
      padding: 8px 10px;
      border-radius: 14px;
      background: rgba(0,0,0,.52);
      border: 1px solid rgba(255,255,255,.14);
      display:flex; align-items:center; gap:8px;
      font-size:13px;
    }
    .playBadge svg{opacity:.95}
    .card .meta{
      padding: 12px 12px 12px;
      display:grid; gap:6px;
    }
    .card .meta b{
      font-size: 14px;
      line-height:1.25;
    }
    .card .meta small{color:var(--muted)}
    .card .actions{
      padding: 0 12px 12px;
      display:flex; gap:10px; flex-wrap:wrap;
    }
    .pill{
      padding: 9px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      font-size: 13px;
      cursor:pointer;
      -webkit-tap-highlight-color: transparent;
    }
    .pill:active{transform: translateY(1px)}

    /* List blocks (–±–µ–∑ ‚Äú—Å—Å—ã–ª–æ—á–Ω–æ–≥–æ‚Äù –≤–∏–¥–∞) */
    .plainList{
      display:grid; gap:10px;
      margin-top: 8px;
    }
    .row{
      padding: 12px 12px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      display:flex; align-items:center; justify-content:space-between; gap:12px;
    }
    .row small{color:var(--muted)}
    .row a.btnLink{
      padding: 9px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      font-size:13px;
      white-space:nowrap;
    }

    /* Modal */
    .modalOverlay{
      position:fixed; inset:0; z-index:120;
      background: rgba(0,0,0,.70);
      display:none;
      align-items:center; justify-content:center;
      padding: 18px 14px;
    }
    .modalOverlay.on{display:flex}
    .modal{
      width:min(920px, 96vw);
      border-radius: 22px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(16,16,22,.92);
      backdrop-filter: blur(18px);
      box-shadow: 0 30px 90px rgba(0,0,0,.65);
      overflow:hidden;
    }
    .modalTop{
      display:flex; align-items:center; justify-content:space-between;
      padding: 12px 14px;
      border-bottom: 1px solid rgba(255,255,255,.10);
    }
    .modalTop b{font-size:14px}
    .modalTop button{
      width:42px; height:42px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      display:grid; place-items:center;
      cursor:pointer;
    }
    .modalTop button:active{transform: translateY(1px)}
    .modalBody{
      padding: 0;
      background:#000;
      aspect-ratio: 16/9;
    }
    .modalBody iframe{
      width:100%; height:100%;
      border:0;
      display:block;
    }

    /* Bottom nav */
    .bottomNav{
      position:fixed; left:0; right:0; bottom:0;
      z-index:60;
      padding-bottom: var(--safeBottom);
      backdrop-filter: blur(16px);
      background: linear-gradient(to top, rgba(11,11,15,.88), rgba(11,11,15,.55));
      border-top: 1px solid rgba(255,255,255,.08);
    }
    .bottomNav .inner{
      max-width:var(--max);
      margin:0 auto;
      display:flex;
      justify-content:space-between;
      gap:8px;
      padding: 10px 10px;
    }
    .tab{
      flex:1 1 0;
      min-width:0;
      padding: 10px 8px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.08);
      background: rgba(255,255,255,.03);
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:6px;
      font-size: 11px;
      color: rgba(255,255,255,.78);
      -webkit-tap-highlight-color: transparent;
    }
    .tab:active{transform: translateY(1px)}
    .tab svg{opacity:.9}
    .tab.active{
      background: rgba(255,255,255,.08);
      border-color: rgba(255,255,255,.14);
      color: rgba(255,255,255,.92);
    }

    /* Utils */
    .muted{color:var(--muted)}
    .hint{color:var(--muted2); font-size:13px}
    .sp10{height:10px}
    .sp14{height:14px}
  </style>
</head>

<body>

  <!-- Topbar -->
  <div class="topbar" id="top">
    <div class="inner">
      <div class="brand" role="banner" aria-label="–ú–∞–∫—Å –ü–æ–π–∑–æ–Ω">
        <div class="avatar" aria-hidden="true"></div>
        <div class="t">
          <b>–ú–∞–∫—Å –ü–æ–π–∑–æ–Ω</b>
          <span>–ú—É–∑—ã–∫–∞ ‚Ä¢ –∫–ª–∏–ø—ã ‚Ä¢ –ª–∞–π–≤—ã</span>
        </div>
      </div>

      <button class="burger" id="openDrawer" aria-label="–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é">
        <i><span></span></i>
      </button>
    </div>
  </div>

  <!-- Drawer -->
  <div class="overlay" id="overlay"></div>

  <aside class="drawer" id="drawer" aria-label="–ú–µ–Ω—é">
    <div class="drawerHead">
      <b>–ú–µ–Ω—é</b>
      <div class="close" id="closeDrawer" aria-label="–ó–∞–∫—Ä—ã—Ç—å">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
          <path d="M6 6L18 18M18 6L6 18" stroke="rgba(255,255,255,.9)" stroke-width="2.2" stroke-linecap="round"/>
        </svg>
      </div>
    </div>

    <div class="drawerBody">
      <div class="search" title="–ü–æ–∏—Å–∫ –ø–æ —Å–∞–π—Ç—É">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
          <path d="M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15Z" stroke="rgba(255,255,255,.8)" stroke-width="2"/>
          <path d="M16.5 16.5 21 21" stroke="rgba(255,255,255,.8)" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <input id="searchInput" type="search" placeholder="–ü–æ–∏—Å–∫: –∫–ª–∏–ø, –ª–∞–π–≤, —Ñ–æ—Ç–æ, —Ç–µ–∫—Å—Ç..." />
      </div>

      <div class="nav" style="margin-top:12px">
        <a href="#listen" data-open="listen"><span><b>–°–ª—É—à–∞—Ç—å</b><br><small>–ø–ª–µ–µ—Ä—ã –≤–Ω—É—Ç—Ä–∏ —Å–∞–π—Ç–∞</small></span><small>‚Üó</small></a>
        <a href="#clips" data-open="clips"><span><b>–ö–ª–∏–ø—ã</b><br><small>–ø—Ä–µ–≤—å—é + –ø—Ä–æ—Å–º–æ—Ç—Ä</small></span><small>‚Üó</small></a>
        <a href="#lives" data-open="lives"><span><b>–õ–∞–π–≤—ã</b><br><small>—Å–≤–∞–π–ø –≤–ø—Ä–∞–≤–æ/–≤–ª–µ–≤–æ</small></span><small>‚Üó</small></a>
        <a href="#about" data-open="about"><span><b>–û–±–æ –º–Ω–µ</b><br><small>–∫—Ä–∞—Ç–∫–æ –∏ –ø–æ –¥–µ–ª—É</small></span><small>‚Üó</small></a>
        <a href="#photos" data-open="photos"><span><b>–§–æ—Ç–æ</b><br><small>–≥–∞–ª–µ—Ä–µ—è</small></span><small>‚Üó</small></a>
        <a href="#contacts" data-open="contacts"><span><b>–ö–æ–Ω—Ç–∞–∫—Ç—ã</b><br><small>—Ç–µ–ª–µ–≥–∞ / –ø–æ—á—Ç–∞</small></span><small>‚Üó</small></a>
      </div>

      <div class="mini">
        –ü–æ–¥—Å–∫–∞–∑–∫–∞: –º–æ–∂–Ω–æ –∏—Å–∫–∞—Ç—å –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Ä–æ–ª–∏–∫–∞, —Å–ª–æ–≤—É ‚Äú–∫–ª–∏–ø‚Äù, ‚Äú–ª–∞–π–≤‚Äù, ‚Äú—Ñ–æ—Ç–æ‚Äù.
        –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏.
      </div>
    </div>
  </aside>

  <main class="wrap">

    <!-- HERO -->
    <section class="hero" aria-label="–ì–ª–∞–≤–Ω—ã–π –±–ª–æ–∫">
      <div class="content">
        <h1>–ú–ê–ö–° –ü–û–ô–ó–û–ù</h1>
        <p>–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç: –º—É–∑—ã–∫–∞, –∫–ª–∏–ø—ã, –ª–∞–π–≤—ã –∏ —Ñ–æ—Ç–æ ‚Äî –∞–∫–∫—É—Ä–∞—Ç–Ω–æ –∏ —É–¥–æ–±–Ω–æ, –±–µ–∑ –≤–∏–Ω–µ–≥—Ä–µ—Ç–∞.</p>

        <div class="ctaRow">
          <button class="btn primary" data-open="listen">‚ñ∂ –°–ª—É—à–∞—Ç—å</button>
          <button class="btn" data-open="clips">üé¨ –°–º–æ—Ç—Ä–µ—Ç—å –∫–ª–∏–ø—ã</button>
          <button class="btn" data-open="lives">üéô –õ–∞–π–≤—ã</button>
        </div>
      </div>
    </section>

    <div class="sections" id="sections">

      <!-- LISTEN -->
      <details class="sec" id="listen">
        <summary>
          <div>
            <b>–°–ª—É—à–∞—Ç—å</b>
            <div><span>–ø–ª–µ–µ—Ä—ã –≤–Ω—É—Ç—Ä–∏ —Å–∞–π—Ç–∞ (–±–µ–∑ –ª–∏—à–Ω–∏—Ö —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤)</span></div>
          </div>
          <div class="caret" aria-hidden="true"></div>
        </summary>

        <div class="secBody">
          <div class="plainList" data-search-scope="listen">
            <div class="row">
              <div>
                <b>–Ø–Ω–¥–µ–∫—Å.–ú—É–∑—ã–∫–∞ ‚Äî –∞—Ä—Ç–∏—Å—Ç</b><br>
                <small class="muted">–û—Ç–∫—Ä–æ–µ—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø–ª–µ–µ—Ä</small>
              </div>
              <a class="btnLink" href="#" data-embed="yandex-artist" aria-label="–û—Ç–∫—Ä—ã—Ç—å –ø–ª–µ–µ—Ä –Ø–Ω–¥–µ–∫—Å.–ú—É–∑—ã–∫–∞">–û—Ç–∫—Ä—ã—Ç—å</a>
            </div>

            <div class="row">
              <div>
                <b>Spotify ‚Äî –∞—Ä—Ç–∏—Å—Ç</b><br>
                <small class="muted">–û—Ç–∫—Ä–æ–µ—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø–ª–µ–µ—Ä</small>
              </div>
              <a class="btnLink" href="#" data-embed="spotify-artist" aria-label="–û—Ç–∫—Ä—ã—Ç—å –ø–ª–µ–µ—Ä Spotify">–û—Ç–∫—Ä—ã—Ç—å</a>
            </div>

            <div class="row">
              <div>
                <b>Apple Music ‚Äî –∞—Ä—Ç–∏—Å—Ç</b><br>
                <small class="muted">–û—Ç–∫—Ä–æ–µ—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø–ª–µ–µ—Ä</small>
              </div>
              <a class="btnLink" href="#" data-embed="apple-artist" aria-label="–û—Ç–∫—Ä—ã—Ç—å –ø–ª–µ–µ—Ä Apple Music">–û—Ç–∫—Ä—ã—Ç—å</a>
            </div>
          </div>

          <div class="sp10"></div>
          <div class="hint">–ï—Å–ª–∏ –≥–¥–µ-—Ç–æ –ø–ª–µ–µ—Ä –Ω–µ –≥—Ä—É–∑–∏—Ç—Å—è ‚Äî —ç—Ç–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã/–±—Ä–∞—É–∑–µ—Ä–∞. –ù–æ –≤—Å—ë –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ ‚Äî –Ω–∞ —Å–∞–π—Ç–µ.</div>
        </div>
      </details>

      <!-- CLIPS -->
      <details class="sec" id="clips">
        <summary>
          <div>
            <b>–ö–ª–∏–ø—ã</b>
            <div><span>–∫–∞—Ä—Ç–æ—á–∫–∏ —Å –ø—Ä–µ–≤—å—é + –ø—Ä–æ—Å–º–æ—Ç—Ä –≤–Ω—É—Ç—Ä–∏ —Å–∞–π—Ç–∞</span></div>
          </div>
          <div class="caret" aria-hidden="true"></div>
        </summary>

        <div class="secBody">
          <div class="hscroll" id="clipsList" data-search-scope="clips" aria-label="–ö–ª–∏–ø—ã (—Å–≤–∞–π–ø –≤–ø—Ä–∞–≤–æ/–≤–ª–µ–≤–æ)"></div>
          <div class="hint">–°–≤–∞–π–ø–∞–π –≤–ø—Ä–∞–≤–æ/–≤–ª–µ–≤–æ. –ù–∞–∂–º–∏ ‚Äú–°–º–æ—Ç—Ä–µ—Ç—å‚Äù ‚Äî –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –ø–ª–µ–µ—Ä –ø—Ä—è–º–æ —Ç—É—Ç.</div>
        </div>
      </details>

      <!-- LIVES -->
      <details class="sec" id="lives">
        <summary>
          <div>
            <b>–õ–∞–π–≤—ã</b>
            <div><span>–≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏—è ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–º –±–ª–æ–∫–æ–º, –±–µ–∑ –∫–∞—à–∏</span></div>
          </div>
          <div class="caret" aria-hidden="true"></div>
        </summary>

        <div class="secBody">
          <div class="hscroll" id="livesList" data-search-scope="lives" aria-label="–õ–∞–π–≤—ã (—Å–≤–∞–π–ø –≤–ø—Ä–∞–≤–æ/–≤–ª–µ–≤–æ)"></div>
          <div class="hint">–ï—Å–ª–∏ —Ö–æ—á–µ—à—å ‚Äî –¥–æ–±–∞–≤–∏–º —Å—é–¥–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ª–∞–π–≤—ã (–ó–∞–ø–∞–ª / F Love –∏ —Ç.–¥.), –ø—Ä–æ—Å—Ç–æ —Å–∫–∏–Ω—å —Å—Å—ã–ª–∫–∏.</div>
        </div>
      </details>

      <!-- ABOUT -->
      <details class="sec" id="about">
        <summary>
          <div>
            <b>–û–±–æ –º–Ω–µ</b>
            <div><span>–∫–æ—Ä–æ—Ç–∫–æ, –±–µ–∑ –ø–æ–Ω—Ç–æ–≤</span></div>
          </div>
          <div class="caret" aria-hidden="true"></div>
        </summary>

        <div class="secBody" data-search-scope="about">
          <div class="plainList">
            <div class="row">
              <div>
                <b>–ú–∞–∫—Å –ü–æ–π–∑–æ–Ω</b><br>
                <small class="muted">—Ä—ç–ø —Å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–æ–º ‚Ä¢ –∂–∏–≤—ã–µ –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏—è ‚Ä¢ —á–µ—Å—Ç–Ω–∞—è –ø–æ–¥–∞—á–∞</small>
              </div>
              <span class="muted">‚Äî</span>
            </div>

            <div class="row">
              <div>
                <b>–ë—ç–∫–≥—Ä–∞—É–Ω–¥</b><br>
                <small class="muted">
                  –†–∞–∑–æ–≥—Ä–µ–≤ Onyx (–õ—É–∂–Ω–∏–∫–∏) ‚Ä¢ —Ñ–∏–Ω–∞–ª–∏—Å—Ç Rap Music (2010/2011) ‚Ä¢ –ø–æ–±–µ–¥—ã –Ω–∞ –±–∞—Ç—Ç–ª–∞—Ö –∏ —Ñ–µ—Å—Ç–∏–≤–∞–ª—è—Ö
                </small>
              </div>
              <span class="muted">‚Äî</span>
            </div>

            <div class="row">
              <div>
                <b>–ü—Ä–æ–µ–∫—Ç—ã / –≥—Ä—É–ø–ø—ã</b><br>
                <small class="muted">DaOldCinema, Le Arestantz Crew</small>
              </div>
              <span class="muted">‚Äî</span>
            </div>
          </div>
        </div>
      </details>

      <!-- PHOTOS -->
      <details class="sec" id="photos">
        <summary>
          <div>
            <b>–§–æ—Ç–æ</b>
            <div><span>–≥–∞–ª–µ—Ä–µ—è —Å –ø—Ä–µ–≤—å—é, –ª–∏—Å—Ç–∞–µ—Ç—Å—è –≤–±–æ–∫</span></div>
          </div>
          <div class="caret" aria-hidden="true"></div>
        </summary>

        <div class="secBody">
          <div class="hscroll" id="photosList" data-search-scope="photos" aria-label="–§–æ—Ç–æ (—Å–≤–∞–π–ø –≤–ø—Ä–∞–≤–æ/–≤–ª–µ–≤–æ)"></div>
          <div class="hint">–§–æ—Ç–æ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –ø–æ —Ç–∞–ø—É (—É–≤–µ–ª–∏—á–µ–Ω–∏–µ). –î–æ–±–∞–≤–∏–º –µ—â—ë ‚Äî –ø—Ä–æ—Å—Ç–æ –∑–∞–∫–∏–Ω—å —Ñ–∞–π–ª—ã/—Å—Å—ã–ª–∫–∏.</div>
        </div>
      </details>

      <!-- CONTACTS -->
      <details class="sec" id="contacts">
        <summary>
          <div>
            <b>–ö–æ–Ω—Ç–∞–∫—Ç—ã</b>
            <div><span>–Ω–µ ‚Äú–∫—É—á–∞ —Å—Å—ã–ª–æ–∫‚Äù, –∞ –Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã</span></div>
          </div>
          <div class="caret" aria-hidden="true"></div>
        </summary>

        <div class="secBody" data-search-scope="contacts">
          <div class="plainList">
            <div class="row">
              <div>
                <b>Telegram</b><br>
                <small class="muted">@max_poison</small>
              </div>
              <a class="btnLink" href="https://t.me/max_poison" target="_blank" rel="noopener">–ù–∞–ø–∏—Å–∞—Ç—å</a>
            </div>

            <div class="row">
              <div>
                <b>Email</b><br>
                <small class="muted">–¥–ª—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞</small>
              </div>
              <a class="btnLink" href="mailto:max.poison.music@gmail.com">–ü–∏—Å—å–º–æ</a>
            </div>

            <div class="row">
              <div>
                <b>YouTube</b><br>
                <small class="muted">@ItsMaxPoison</small>
              </div>
              <a class="btnLink" href="https://www.youtube.com/@ItsMaxPoison" target="_blank" rel="noopener">–û—Ç–∫—Ä—ã—Ç—å</a>
            </div>

            <div class="row">
              <div>
                <b>RuTube</b><br>
                <small class="muted">–∫–∞–Ω–∞–ª</small>
              </div>
              <a class="btnLink" href="https://rutube.ru/channel/910055/" target="_blank" rel="noopener">–û—Ç–∫—Ä—ã—Ç—å</a>
            </div>

            <div class="row">
              <div>
                <b>TikTok</b><br>
                <small class="muted">@max_poison</small>
              </div>
              <a class="btnLink" href="https://www.tiktok.com/@max_poison" target="_blank" rel="noopener">–û—Ç–∫—Ä—ã—Ç—å</a>
            </div>
          </div>

          <div class="sp14"></div>
          <div class="hint">VK –∏ Instagram —Å–æ–∑–Ω–∞—Ç–µ–ª—å–Ω–æ —É–±—Ä–∞–Ω—ã (–∫–∞–∫ –ø—Ä–æ—Å–∏–ª–∏), —á—Ç–æ–±—ã —Å–∞–π—Ç –≤—ã–≥–ª—è–¥–µ–ª —Ü–µ–ª—å–Ω–æ –∏ —Å—Ç–∞—Ç—É—Å–Ω–æ.</div>
        </div>
      </details>

    </div>
  </main>

  <!-- Modal (–≤–∏–¥–µ–æ/–ø–ª–µ–µ—Ä—ã) -->
  <div class="modalOverlay" id="modalOverlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-label="–ü—Ä–æ—Å–º–æ—Ç—Ä">
      <div class="modalTop">
        <b id="modalTitle">–ü—Ä–æ—Å–º–æ—Ç—Ä</b>
        <button id="modalClose" aria-label="–ó–∞–∫—Ä—ã—Ç—å">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
            <path d="M6 6L18 18M18 6L6 18" stroke="rgba(255,255,255,.9)" stroke-width="2.2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>
      <div class="modalBody" id="modalBody"></div>
    </div>
  </div>

  <!-- Bottom nav -->
  <nav class="bottomNav" aria-label="–ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è">
    <div class="inner">
      <a class="tab" href="#listen" data-open="listen">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
          <path d="M9 18V6l12-2v12" stroke="rgba(255,255,255,.85)" stroke-width="2" stroke-linecap="round"/>
          <path d="M9 18a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" stroke="rgba(255,255,255,.85)" stroke-width="2"/>
          <path d="M21 16a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" stroke="rgba(255,255,255,.85)" stroke-width="2"/>
        </svg>
        –°–ª—É—à–∞—Ç—å
      </a>

      <a class="tab" href="#clips" data-open="clips">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
          <path d="M4 7h16M4 12h16M4 17h16" stroke="rgba(255,255,255,.85)" stroke-width="2" stroke-linecap="round"/>
        </svg>
        –ö–ª–∏–ø—ã
      </a>

      <a class="tab" href="#lives" data-open="lives">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
          <path d="M12 18a6 6 0 0 0 6-6V6H6v6a6 6 0 0 0 6 6Z" stroke="rgba(255,255,255,.85)" stroke-width="2"/>
          <path d="M10 10h4" stroke="rgba(255,255,255,.85)" stroke-width="2" stroke-linecap="round"/>
        </svg>
        –õ–∞–π–≤—ã
      </a>

      <a class="tab" href="#about" data-open="about">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
          <path d="M12 12a4 4 0 1 0-4-4 4 4 0 0 0 4 4Z" stroke="rgba(255,255,255,.85)" stroke-width="2"/>
          <path d="M4 20a8 8 0 0 1 16 0" stroke="rgba(255,255,255,.85)" stroke-width="2" stroke-linecap="round"/>
        </svg>
        –û–±–æ –º–Ω–µ
      </a>

      <a class="tab" href="#contacts" data-open="contacts">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
          <path d="M4 7h16v10H4z" stroke="rgba(255,255,255,.85)" stroke-width="2"/>
          <path d="M4 7l8 6 8-6" stroke="rgba(255,255,255,.85)" stroke-width="2" stroke-linecap="round"/>
        </svg>
        –ö–æ–Ω—Ç–∞–∫—Ç—ã
      </a>
    </div>
  </nav>

  <script>
    // -----------------------------
    // –î–ê–ù–ù–´–ï (–º–æ–∂–Ω–æ –ø—Ä–∞–≤–∏—Ç—å —Ä—É–∫–∞–º–∏)
    // -----------------------------
    // –ö–ª–∏–ø—ã ‚Äî —Å–ø–∏—Å–æ–∫ YouTube —Å—Å—ã–ª–æ–∫ (–ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–µ–≤—å—é –∏ –æ—Ç–∫—Ä—ã–≤–∞–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ)
    const CLIPS = [
      { title: "–ö–ª–∏–ø 1", url: "https://m.youtube.com/watch?v=9Qrlc1fiVVE" },
      { title: "–ö–ª–∏–ø 2", url: "https://m.youtube.com/watch?v=B3qdPETEejw" },
      { title: "–ü—Ä–∏—ë–º", url: "https://youtu.be/Dpmp4oaDsHE" },
      { title: "–ö–ª–∏–ø 4", url: "https://m.youtube.com/watch?v=QfE2VUTCoNE" },
      { title: "–ö–ª–∏–ø 5", url: "https://m.youtube.com/watch?v=4kcJd3sPoP4" },
      { title: "–ö–ª–∏–ø 6", url: "https://m.youtube.com/watch?v=AMACj-nDgqY" },
      { title: "–ö–ª–∏–ø 7", url: "https://m.youtube.com/watch?v=ORS89D6LRTU" },
      { title: "–ö–ª–∏–ø 8", url: "https://m.youtube.com/watch?v=R3nDA-GWJ_0" },
      { title: "–ö–ª–∏–ø 9", url: "https://m.youtube.com/watch?v=y6eAeUmBIbo" },
      { title: "–ö–ª–∏–ø 10", url: "https://m.youtube.com/watch?v=I0vL1n_6kJ4" },
      { title: "–ö–ª–∏–ø 11", url: "https://m.youtube.com/watch?v=ZcyNTVCs6sU" },
      { title: "–ö–ª–∏–ø 12", url: "https://m.youtube.com/watch?v=WIhVtSshb7g" },
      { title: "–ö–ª–∏–ø 13", url: "https://m.youtube.com/watch?v=sAbJ_BTGXw0" },
      { title: "–ö–ª–∏–ø 14", url: "https://m.youtube.com/watch?v=26kMZ7cm3a4" },
      { title: "–ö–ª–∏–ø 15", url: "https://m.youtube.com/watch?v=gQ5ryuP365I" },
      { title: "–ö–ª–∏–ø 16", url: "https://m.youtube.com/watch?v=9COBEYUdd4s" },
      { title: "–ö–ª–∏–ø 17", url: "https://m.youtube.com/watch?v=tif1ntp_ZwA" },
      { title: "–ö–ª–∏–ø 18", url: "https://m.youtube.com/watch?v=rubuyReQ8Z4" },
      { title: "–ö–ª–∏–ø 19", url: "https://m.youtube.com/watch?v=ckIhdEhsLSo" },
      { title: "–ö–ª–∏–ø 20", url: "https://m.youtube.com/watch?v=uokXnS2kqBM" },
      { title: "–ö–ª–∏–ø 21", url: "https://m.youtube.com/watch?v=QuOZISvlkeE" },
      { title: "–ö–ª–∏–ø 22", url: "https://m.youtube.com/watch?v=fDqi_Kti9ZY" },
      { title: "–ö–ª–∏–ø 23", url: "https://m.youtube.com/watch?v=uMgjzGeOjVA" }
    ];

    // –õ–∞–π–≤—ã ‚Äî —Å–µ–π—á–∞—Å –∑–∞–≥–æ—Ç–æ–≤–∫–∞ (–ø–æ–∫–∞ –Ω–µ—Ç —Å—Å—ã–ª–æ–∫ –∏–∑ —á–∞—Ç–∞ ‚Äú–ó–∞–ø–∞–ª / F Love‚Äù)
    const LIVES = [
      { title: "–õ–∞–π–≤ (–¥–æ–±–∞–≤—å —Å—Å—ã–ª–∫—É)", url: "" },
      { title: "–õ–∞–π–≤ (–¥–æ–±–∞–≤—å —Å—Å—ã–ª–∫—É)", url: "" },
      { title: "–õ–∞–π–≤ (–¥–æ–±–∞–≤—å —Å—Å—ã–ª–∫—É)", url: "" }
    ];

    // –§–æ—Ç–æ
    const PHOTOS = [
      { title: "–§–æ—Ç–æ 1", url: "https://raw.githubusercontent.com/max-poison/max-poison.github.io/refs/heads/main/IMG_6391.jpeg" },
      { title: "–§–æ—Ç–æ 2", url: "https://raw.githubusercontent.com/max-poison/max-poison.github.io/refs/heads/main/IMG_4467.jpeg" }
    ];

    // –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø–ª–µ–µ—Ä—ã
    const EMBEDS = {
      "yandex-artist": {
        title: "–Ø–Ω–¥–µ–∫—Å.–ú—É–∑—ã–∫–∞ ‚Äî –ú–∞–∫—Å –ü–æ–π–∑–æ–Ω",
        html: `<iframe src="https://music.yandex.ru/iframe/#artist/3364880" allow="autoplay; encrypted-media" loading="lazy"></iframe>`
      },
      "spotify-artist": {
        title: "Spotify ‚Äî –ú–∞–∫—Å –ü–æ–π–∑–æ–Ω",
        html: `<iframe style="border-radius:12px" src="https://open.spotify.com/embed/artist/0x0?utm_source=generator" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>`
      },
      "apple-artist": {
        title: "Apple Music ‚Äî –ú–∞–∫—Å –ü–æ–π–∑–æ–Ω",
        html: `<iframe allow="autoplay *; encrypted-media *;" frameborder="0" height="450" style="width:100%;max-width:100%;overflow:hidden;border-radius:12px" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation-by-user-activation" src="https://embed.music.apple.com/ru/artist/%D0%BC%D0%B0%D0%BA%D1%81-%D0%BF%D0%BE%D0%B9%D0%B7%D0%BE%D0%BD/917126644"></iframe>`
      }
    };

    // -----------------------------
    // –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–û–ï
    // -----------------------------
    const $ = (s, root=document) => root.querySelector(s);
    const $$ = (s, root=document) => Array.from(root.querySelectorAll(s));

    function ytIdFromUrl(url){
      if(!url) return "";
      try{
        const u = new URL(url);
        if(u.hostname.includes("youtu.be")){
          return u.pathname.replace("/","").trim();
        }
        if(u.searchParams.get("v")) return u.searchParams.get("v");
        // fallback for weird cases
        const m = url.match(/v=([a-zA-Z0-9_-]{6,})/);
        return m ? m[1] : "";
      }catch(e){
        const m = url.match(/([a-zA-Z0-9_-]{11})/);
        return m ? m[1] : "";
      }
    }

    function ytThumb(id){
      return id ? `https://img.youtube.com/vi/${id}/hqdefault.jpg` : "";
    }

    function makeVideoCard({title, url}, type){
      const id = ytIdFromUrl(url);
      const hasVideo = !!id;
      const el = document.createElement("div");
      el.className = "card";
      el.dataset.search = `${type} ${title}`.toLowerCase();

      const thumbHtml = hasVideo
        ? `<img src="${ytThumb(id)}" alt="${title}">`
        : `<img src="https://raw.githubusercontent.com/max-poison/max-poison.github.io/refs/heads/main/IMG_4467.jpeg" alt="${title}">`;

      el.innerHTML = `
        <div class="thumb">
          ${thumbHtml}
          <div class="playBadge">
            ${type === "–ö–ª–∏–ø" ? "üé¨" : "üéô"} ${type}
          </div>
        </div>
        <div class="meta">
          <b>${title}</b>
          <small>${hasVideo ? "–û—Ç–∫—Ä–æ–µ—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä" : "–ù–µ—Ç —Å—Å—ã–ª–∫–∏ ‚Äî –¥–æ–±–∞–≤—å"}</small>
        </div>
        <div class="actions">
          <button class="pill" ${hasVideo ? "" : "disabled"} data-watch="${hasVideo ? id : ""}">
            –°–º–æ—Ç—Ä–µ—Ç—å
          </button>
          ${hasVideo ? `<a class="pill" href="${url}" target="_blank" rel="noopener">–û—Ç–∫—Ä—ã—Ç—å –Ω–∞ YouTube</a>` : ""}
        </div>
      `;
      return el;
    }

    function makePhotoCard({title, url}){
      const el = document.createElement("div");
      el.className = "card";
      el.dataset.search = `—Ñ–æ—Ç–æ ${title}`.toLowerCase();
      el.innerHTML = remember = `
        <div class="thumb">
          <img src="${url}" alt="${title}">
          <div class="playBadge">üì∑ –§–æ—Ç–æ</div>
        </div>
        <div class="meta">
          <b>${title}</b>
          <small>–¢–∞–ø ‚Äî –æ—Ç–∫—Ä—ã—Ç—å</small>
        </div>
        <div class="actions">
          <button class="pill" data-photo="${url}" data-title="${title}">–û—Ç–∫—Ä—ã—Ç—å</button>
        </div>
      `;
      return el;
    }

    // -----------------------------
    // Drawer open/close + swipe
    // -----------------------------
    const overlay = $("#overlay");
    const drawer = $("#drawer");
    const openDrawer = $("#openDrawer");
    const closeDrawer = $("#closeDrawer");

    function setDrawer(on){
      overlay.classList.toggle("on", on);
      drawer.classList.toggle("on", on);
      document.body.style.overflow = on ? "hidden" : "";
    }
    openDrawer.addEventListener("click", ()=> setDrawer(true));
    closeDrawer.addEventListener("click", ()=> setDrawer(false));
    overlay.addEventListener("click", ()=> setDrawer(false));

    // swipe right-to-left to close (–∫–∞–∫ –ø—Ä–æ—Å–∏–ª–∏)
    let touchX = null;
    drawer.addEventListener("touchstart", (e)=> { touchX = e.touches[0].clientX; }, {passive:true});
    drawer.addEventListener("touchmove", (e)=>{
      if(touchX == null) return;
      const dx = e.touches[0].clientX - touchX;
      if(dx > 70){ // —Å–≤–∞–π–ø –≤–ø—Ä–∞–≤–æ
        setDrawer(false);
        touchX = null;
      }
    }, {passive:true});

    // -----------------------------
    // Modal
    // -----------------------------
    const modalOverlay = $("#modalOverlay");
    const modalBody = $("#modalBody");
    const modalTitle = $("#modalTitle");
    const modalClose = $("#modalClose");

    function openModal(title, html){
      modalTitle.textContent = title || "–ü—Ä–æ—Å–º–æ—Ç—Ä";
      modalBody.innerHTML = html;
      modalOverlay.classList.add("on");
      modalOverlay.setAttribute("aria-hidden", "false");
      document.body.style.overflow = "hidden";
    }
    function closeModal(){
      modalOverlay.classList.remove("on");
      modalOverlay.setAttribute("aria-hidden", "true");
      modalBody.innerHTML = "";
      document.body.style.overflow = "";
    }
    modalClose.addEventListener("click", closeModal);
    modalOverlay.addEventListener("click", (e)=> { if(e.target === modalOverlay) closeModal(); });
    document.addEventListener("keydown", (e)=> { if(e.key === "Escape") closeModal(); });

    // -----------------------------
    // Render lists
    // -----------------------------
    const clipsList = $("#clipsList");
    const livesList = $("#livesList");
    const photosList = $("#photosList");

    CLIPS.forEach(v => clipsList.appendChild(makeVideoCard(v, "–ö–ª–∏–ø")));
    LIVES.forEach(v => livesList.appendChild(makeVideoCard(v, "–õ–∞–π–≤")));
    PHOTOS.forEach(p => photosList.appendChild(makePhotoCard(p)));

    // watch click
    document.addEventListener("click", (e)=>{
      const watch = e.target.closest("[data-watch]");
      if(watch){
        const id = watch.getAttribute("data-watch");
        if(!id) return;
        openModal("–ü—Ä–æ—Å–º–æ—Ç—Ä", `<iframe src="https://www.youtube.com/embed/${id}?autoplay=1&rel=0" allow="autoplay; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>`);
      }

      const photo = e.target.closest("[data-photo]");
      if(photo){
        const url = photo.getAttribute("data-photo");
        const title = photo.getAttribute("data-title") || "–§–æ—Ç–æ";
        openModal(title, `<iframe src="${url}" loading="lazy"></iframe>`);
      }

      const emb = e.target.closest("[data-embed]");
      if(emb){
        e.preventDefault();
        const key = emb.getAttribute("data-embed");
        const pack = EMBEDS[key];
        if(!pack) return;
        openModal(pack.title, pack.html);
      }
    });

    // -----------------------------
    // Open section helper (and close drawer)
    // -----------------------------
    function openSection(id){
      const el = document.getElementById(id);
      if(!el) return;
      if(el.tagName.toLowerCase() === "details") el.open = true;
      el.scrollIntoView({behavior:"smooth", block:"start"});
      setDrawer(false);
      setActiveTab(id);
    }

    // click nav items with data-open
    document.addEventListener("click", (e)=>{
      const a = e.target.closest("[data-open]");
      if(!a) return preventDefaultIfNeeded(a, e);
      const id = a.getAttribute("data-open");
      openSection(id);
    });

    function preventDefaultIfNeeded(a, e){
      // for buttons it's ok; for anchor prevent jump double
      if(a.tagName.toLowerCase() === "a") e.preventDefault();
    }

    // CTA buttons
    $$("[data-open]").forEach(btn=>{
      btn.addEventListener("click", (e)=>{
        if(btn.tagName.toLowerCase() === "a") e.preventDefault();
        openSection(btn.getAttribute("data-open"));
      }, {passive:false});
    });

    // -----------------------------
    // Search (filters cards + text blocks)
    // -----------------------------
    const searchInput = $("#searchInput");
    function applySearch(q){
      q = (q || "").trim().toLowerCase();

      // video/photo cards
      $$(".card").forEach(card=>{
        const hay = (card.dataset.search || "").toLowerCase();
        card.style.display = (!q || hay.includes(q)) ? "" : "none";
      });

      // plain list rows
      $$(".plainList .row").forEach(row=>{
        const txt = row.innerText.toLowerCase();
        row.style.display = (!q || txt.includes(q)) ? "" : "none";
      });

      // if user typed, open all sections to show results
      if(q){
        $$("details.sec").forEach(d => d.open = true);
      }
    }
    searchInput.addEventListener("input", (e)=> applySearch(e.target.value));

    // -----------------------------
    // Active bottom tab
    // -----------------------------
    const tabs = $$(".bottomNav .tab");
    function setActiveTab(id){
      tabs.forEach(t => t.classList.toggle("active", t.getAttribute("data-open") === id));
    }

    // On hash change, open section and highlight
    window.addEventListener("hashchange", ()=>{
      const id = location.hash.replace("#","").trim();
      if(id) openSection(id);
    });

    // initial
    if(location.hash){
      const id = location.hash.replace("#","").trim();
      if(id) openSection(id);
    } else {
      setActiveTab("listen");
    }
  </script>
</body>
</html>
